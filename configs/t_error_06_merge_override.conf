# TEST: error_page merge + override precedence
# PURPOSE:
# - Server defines 404 and 500 error pages.
# - Location /app overrides 404 only.
# - Resolver should MERGE error_pages:
#   - For the same code: location value wins
#   - For other codes: inherit from server
#
# EXPECT (runtime print):
# - Server Error Pages: 404:/errors/s404.html, 500:/errors/s500.html
# - Location /app Error Pages includes:
#   - 404:/errors/l404.html   (overrides server)
#   - 500:/errors/s500.html   (inherited)

server {
  listen 8080;

  error_page 404 /errors/s404.html;
  error_page 500 /errors/s500.html;

  location /app {
    error_page 404 /errors/l404.html;
  }
}